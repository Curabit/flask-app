{% extends "base-dashboard.html" %}

{% block title %}Dashboard{% endblock %}

{% block head_attachments %}
<style>
    
.card-container{
    padding: 5px 10px 5px 10px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    grid-gap: 15px;
}

.card {
    /* width: 200px;*/
    height: 150px; 
    border-radius: 10px;
    box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.19);
    padding: 10px;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: flex-start;
}

.card:hover {
    text-decoration: none;
}

h4 {
    font-size: 26px;
    font-weight: 700;
}

h5 {
    font-size: 20px;
    font-weight: 600;
}

.table-container {
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

table {
    margin: 5px 0px 20px 0px;
    width: 90%;
    text-align: center;
}

table, td, th {
    border: 1px solid var(--primary-accent);
    border-collapse: collapse;
}
</style>
{% endblock %}

{% block headline %}Your Dashboard{% endblock %}

{% block maincontent %}
<div class='section' id='clients'>
    <div class="section-heading divided-row">
        <div class="left-side">
            <h3>Clients</h3>
        </div>
        <div class="right-side">
            <p>Click on a client to proceed</p>
            <!-- TODO: Something here -->
        </div>
    </div>
    <!-- <div class="card-container" style="color: #FFF8F0;"> -->
    <div class="card-container">
        {% for client in clients %}
        <a href="#" class="card">
            <h4>{{ client['clnt_name'] }}</h4>
            <div>
                {% if client['gender'] == "" %}
                    <h5>{{ client['age'] }} years</h5>
                {% else %}
                    <h5>{{ client['gender'] }}, {{ client['age'] }} years</h5>
                {% endif %}
                {% if client['lastUsed']=="" %}
                    <p>No sessions tried yet.</p>    
                {% else %}
                    <p>Last session on {{ client['lastUsed'] }}</p>
                {% endif %}
            </div>
        </a>
        {% endfor %}
        <a href="{{ url_for('add_client') }}" class="card" style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
            <i class="fas fa-plus-circle" style="font-size: 64px"></i>
            <h4>Add client</h4>
        </a>
    </div>
</div>
<hr style="width: calc(100% - 20px); margin-top: 20px;">
<div class="section" id="usage_history">
    <div class="section-heading divided-row">
        <div class="left-side">
            <h3>Session History</h3>
        </div>
        <div class="right-side">
            <p>Placeholder</p>
            <!-- TODO: Something here -->
        </div>
    </div>
    <div class="table-container">
        <table>
            <tr>
                <th>Date and Time</th>
                <th>Client Name</th>
                <th>Scenario Name</th>
                <th>Session Logs</th>
            </tr>
            <tr>
                <td>27-08-2021 17:45:21</td>
                <td>Rishabh Nanawati</td>
                <td>Fear of Heights</td>
                <td><a>View Session Logs</a></td>
            </tr>
        </table>
    </div>
</div>
{% endblock %}